{"ast":null,"code":"const domainPath = 'http://localhost:3001'; // simpan url domain server API pada variabel, sehingga bisa dinamis (diganti)\n\nconst GetAPI = path => {\n  // path digunakan untuk menunjuk alamat API mana yang akan di-request   \n  const promise = new Promise((resolve, reject) => {\n    fetch(`${domainPath}/${path}`) // alamat url domain + path untuk mengakses full alamat API yg di-request\n    .then(response => response.json()) // response dari server harus dijadikan json\n    .then(result => {\n      resolve(result); // jika success menerima response dari server maka resolve response ke user\n    }, err => {\n      reject(err); // jika terjadi error dari server (server down, dll),\n    }); // maka kirim pesan error ke user melalui reject.\n  });\n  return promise;\n};\n\n_c = GetAPI;\n\nconst PostAPI = (path, data) => {\n  const promise = new Promise((resolve, reject) => {\n    fetch(`${domainPath}/${path}`, {\n      method: 'post',\n      // method POST untuk input/insert data\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data) // kirimkan ke body request untuk data artikel yang akan ditambahkan (insert)\n\n    }).then(result => {\n      resolve(result); // jika success menerima response dari server maka resolve response ke user\n    }, err => {\n      reject(err); // jika terjadi error dari server (server down, dll),\n    });\n  });\n  return promise;\n};\n\n_c2 = PostAPI;\n\nconst DeleteAPI = (path, data) => {\n  const promise = new Promise((resolve, reject) => {\n    fetch(`${domainPath}/${path}/${data}`, {\n      method: 'DELETE'\n    }) // alamat URL API yang ingin kita HAPUS datanya\n    .then(result => {\n      resolve(result); // jik\n    }, err => {\n      reject(err);\n    });\n  });\n};\n\n_c3 = DeleteAPI;\n\nconst getNewsBlog = () => GetAPI('posts?_sort=id&_order=desc');\n\nconst postNewsBlog = dataYgDikirim => PostAPI('posts', dataYgDikirim);\n\nconst deleteNewsBlog = dataYgDiHapus => DeleteAPI('posts', dataYgDiHapus);\n\nconst API = {\n  // inisialisasi function-function yang akan disediakan global API.\n  getNewsBlog,\n  postNewsBlog,\n  deleteNewsBlog\n};\nexport default API;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"GetAPI\");\n$RefreshReg$(_c2, \"PostAPI\");\n$RefreshReg$(_c3, \"DeleteAPI\");","map":{"version":3,"sources":["C:/Users/ASUS/Pemrograman-Framework/minggu9/react-web/src/services/index.js"],"names":["domainPath","GetAPI","path","promise","Promise","resolve","reject","fetch","then","response","json","result","err","PostAPI","data","method","headers","body","JSON","stringify","DeleteAPI","getNewsBlog","postNewsBlog","dataYgDikirim","deleteNewsBlog","dataYgDiHapus","API"],"mappings":"AAAA,MAAMA,UAAU,GAAG,uBAAnB,C,CAA2C;;AAC3C,MAAMC,MAAM,GAAIC,IAAD,IAAU;AAAkB;AACvC,QAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC7CC,IAAAA,KAAK,CAAE,GAAEP,UAAW,IAAGE,IAAK,EAAvB,CAAL,CAAwC;AAAxC,KACKM,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EACwC;AADxC,KAEKF,IAFL,CAEWG,MAAD,IAAY;AACdN,MAAAA,OAAO,CAACM,MAAD,CAAP,CADc,CACkB;AACnC,KAJL,EAIQC,GAAD,IAAS;AACRN,MAAAA,MAAM,CAACM,GAAD,CAAN,CADQ,CACwB;AACnC,KANL,EAD6C,CAOL;AAC3C,GARe,CAAhB;AASA,SAAOT,OAAP;AACH,CAXD;;KAAMF,M;;AAaN,MAAMY,OAAO,GAAG,CAACX,IAAD,EAAOY,IAAP,KAAgB;AAC5B,QAAMX,OAAO,GAAG,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC7CC,IAAAA,KAAK,CAAE,GAAEP,UAAW,IAAGE,IAAK,EAAvB,EAA0B;AAC3Ba,MAAAA,MAAM,EAAE,MADmB;AACiB;AAC5CC,MAAAA,OAAO,EAAE;AACL,kBAAU,kBADL;AAEL,wBAAgB;AAFX,OAFkB;AAM3BC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf,CANqB,CAMS;;AANT,KAA1B,CAAL,CAQKN,IARL,CAQWG,MAAD,IAAY;AACdN,MAAAA,OAAO,CAACM,MAAD,CAAP,CADc,CACkB;AACnC,KAVL,EAUQC,GAAD,IAAS;AACRN,MAAAA,MAAM,CAACM,GAAD,CAAN,CADQ,CACwB;AACnC,KAZL;AAaH,GAde,CAAhB;AAeA,SAAOT,OAAP;AACH,CAjBD;;MAAMU,O;;AAmBN,MAAMO,SAAS,GAAG,CAAClB,IAAD,EAAOY,IAAP,KAAgB;AAC9B,QAAMX,OAAO,GAAG,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC7CC,IAAAA,KAAK,CAAE,GAAEP,UAAW,IAAGE,IAAK,IAAGY,IAAK,EAA/B,EAAkC;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAlC,CAAL,CAAgE;AAAhE,KACKP,IADL,CACWG,MAAD,IAAY;AACdN,MAAAA,OAAO,CAACM,MAAD,CAAP,CADc,CACc;AAC/B,KAHL,EAGQC,GAAD,IAAS;AACRN,MAAAA,MAAM,CAACM,GAAD,CAAN;AACH,KALL;AAMH,GAPe,CAAhB;AAQH,CATD;;MAAMQ,S;;AAWN,MAAMC,WAAW,GAAG,MAAMpB,MAAM,CAAC,4BAAD,CAAhC;;AACA,MAAMqB,YAAY,GAAIC,aAAD,IAAmBV,OAAO,CAAC,OAAD,EAAUU,aAAV,CAA/C;;AACA,MAAMC,cAAc,GAAIC,aAAD,IAAmBL,SAAS,CAAC,OAAD,EAAUK,aAAV,CAAnD;;AAEA,MAAMC,GAAG,GAAG;AAAQ;AAChBL,EAAAA,WADQ;AAERC,EAAAA,YAFQ;AAGRE,EAAAA;AAHQ,CAAZ;AAMA,eAAeE,GAAf","sourcesContent":["const domainPath = 'http://localhost:3001' // simpan url domain server API pada variabel, sehingga bisa dinamis (diganti)\r\nconst GetAPI = (path) => {                 // path digunakan untuk menunjuk alamat API mana yang akan di-request   \r\n    const promise = new Promise((resolve, reject) => {\r\n        fetch(`${domainPath}/${path}`)          // alamat url domain + path untuk mengakses full alamat API yg di-request\r\n            .then(response => response.json())  // response dari server harus dijadikan json\r\n            .then((result) => {\r\n                resolve(result);                // jika success menerima response dari server maka resolve response ke user\r\n            }, (err) => {\r\n                reject(err);                    // jika terjadi error dari server (server down, dll),\r\n            })                                  // maka kirim pesan error ke user melalui reject.\r\n    })\r\n    return promise;\r\n}\r\n\r\nconst PostAPI = (path, data) => {\r\n    const promise = new Promise((resolve, reject) => {\r\n        fetch(`${domainPath}/${path}`, {\r\n            method: 'post',                             // method POST untuk input/insert data\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)          // kirimkan ke body request untuk data artikel yang akan ditambahkan (insert)\r\n        })\r\n            .then((result) => {\r\n                resolve(result);                // jika success menerima response dari server maka resolve response ke user\r\n            }, (err) => {\r\n                reject(err);                    // jika terjadi error dari server (server down, dll),\r\n            })\r\n    })\r\n    return promise;\r\n}\r\n\r\nconst DeleteAPI = (path, data) => {\r\n    const promise = new Promise((resolve, reject) => {\r\n        fetch(`${domainPath}/${path}/${data}`, { method: 'DELETE' })    // alamat URL API yang ingin kita HAPUS datanya\r\n            .then((result) => {\r\n                resolve(result);            // jik\r\n            }, (err) => {\r\n                reject(err);\r\n            })\r\n    })\r\n}\r\n\r\nconst getNewsBlog = () => GetAPI('posts?_sort=id&_order=desc');\r\nconst postNewsBlog = (dataYgDikirim) => PostAPI('posts', dataYgDikirim);\r\nconst deleteNewsBlog = (dataYgDiHapus) => DeleteAPI('posts', dataYgDiHapus);\r\n\r\nconst API = {       // inisialisasi function-function yang akan disediakan global API.\r\n    getNewsBlog,\r\n    postNewsBlog,\r\n    deleteNewsBlog\r\n}\r\n\r\nexport default API;"]},"metadata":{},"sourceType":"module"}